<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_33) on Mon Jul 29 11:18:17 VET 2013 -->
<TITLE>
InstanceCreator
</TITLE>

<META NAME="date" CONTENT="2013-07-29">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="InstanceCreator";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.netmera.mobile.util.google.gson</FONT>
<BR>
Interface InstanceCreator&lt;T&gt;</H2>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>T</CODE> - the type of object that will be created by this implementation.</DL>
<HR>
<DL>
<DT><PRE>public interface <B>InstanceCreator&lt;T&gt;</B></DL>
</PRE>

<P>
This interface is implemented to create instances of a class that does not define a no-args
 constructor. If you can modify the class, you should instead add a private, or public
 no-args constructor. However, that is not possible for library classes, such as JDK classes, or
 a third-party library that you do not have source-code of. In such cases, you should define an
 instance creator for the class. Implementations of this interface should be registered with
 <A HREF="../../../../../../com/netmera/mobile/util/google/gson/GsonBuilder.html#registerTypeAdapter(java.lang.reflect.Type, java.lang.Object)"><CODE>GsonBuilder.registerTypeAdapter(Type, Object)</CODE></A> method before Gson will be able to use
 them.
 <p>Let us look at an example where defining an InstanceCreator might be useful. The
 <code>Id</code> class defined below does not have a default no-args constructor.</p>

 <pre>
 public class Id&lt;T&gt; {
   private final Class&lt;T&gt; clazz;
   private final long value;
   public Id(Class&lt;T&gt; clazz, long value) {
     this.clazz = clazz;
     this.value = value;
   }
 }
 </pre>

 <p>If Gson encounters an object of type <code>Id</code> during deserialization, it will throw an
 exception. The easiest way to solve this problem will be to add a (public or private) no-args
 constructor as follows:</p>

 <pre>
 private Id() {
   this(Object.class, 0L);
 }
 </pre>

 <p>However, let us assume that the developer does not have access to the source-code of the
 <code>Id</code> class, or does not want to define a no-args constructor for it. The developer
 can solve this problem by defining an <code>InstanceCreator</code> for <code>Id</code>:</p>

 <pre>
 class IdInstanceCreator implements InstanceCreator&lt;Id&gt; {
   public Id createInstance(Type type) {
     return new Id(Object.class, 0L);
   }
 }
 </pre>

 <p>Note that it does not matter what the fields of the created instance contain since Gson will
 overwrite them with the deserialized values specified in Json. You should also ensure that a
 <i>new</i> object is returned, not a common object since its fields will be overwritten.
 The developer will need to register <code>IdInstanceCreator</code> with Gson as follows:</p>

 <pre>
 Gson gson = new GsonBuilder().registerTypeAdapter(Id.class, new IdInstanceCreator()).create();
 </pre>
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../com/netmera/mobile/util/google/gson/InstanceCreator.html" title="type parameter in InstanceCreator">T</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/netmera/mobile/util/google/gson/InstanceCreator.html#createInstance(java.lang.reflect.Type)">createInstance</A></B>(java.lang.reflect.Type&nbsp;type)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gson invokes this call-back method during deserialization to create an instance of the
 specified type.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createInstance(java.lang.reflect.Type)"><!-- --></A><H3>
createInstance</H3>
<PRE>
<A HREF="../../../../../../com/netmera/mobile/util/google/gson/InstanceCreator.html" title="type parameter in InstanceCreator">T</A> <B>createInstance</B>(java.lang.reflect.Type&nbsp;type)</PRE>
<DL>
<DD>Gson invokes this call-back method during deserialization to create an instance of the
 specified type. The fields of the returned instance are overwritten with the data present
 in the Json. Since the prior contents of the object are destroyed and overwritten, do not
 return an instance that is useful elsewhere. In particular, do not return a common instance,
 always use <code>new</code> to create a new instance.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the parameterized T represented as a <CODE>Type</CODE>.
<DT><B>Returns:</B><DD>a default object instance of type T.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<HR>

</BODY>
</HTML>
